---
title: 并查集
date: 2024-02-12 12:58:00
tags: [algrithm/算法]
categories: [学习笔记,算法]
mathjax: true
---
# 并查集的定义

> **并查集（Union Find）**：一种树型的数据结构，用于处理一些不交集（Disjoint Sets）的合并及查询问题。不交集指的是一系列没有重复元素的集合。
>
> 并查集主要支持两种操作：
>
> - **合并（Union）**：将两个集合合并成一个集合。
> - **查找（Find）**：确定某个元素属于哪个集合。通常是返回集合内的一个「代表元素」。

<!--more-->

# 实现

##  查找

确定某个元素属于哪个集合

```cpp
int find(int x)
{
    return fa[x] == x ? x : find(fa[x]);
}
```

## 带路径压缩的查找

查找同时顺便修改父节点为根

```c++
int find(int x)
{
    return fa[x] == x ? x : fa[x] = find(fa[x]);
}
```

## 合并

```c++
void unite(int x, int y){
	fa[find[x]] = find(y);
}
```

## 按秩合并（启发式合并）

合并时，选择哪棵树的根节点作为新树的根节点会影响未来操作的复杂度。我们可以将节点较少或深度较小的树连到另一棵，以免发生退化。

```c++
struct dsu {
  vector<size_t> pa, size;

  explicit dsu(size_t size_) : pa(size_), size(size_, 1) {
    iota(pa.begin(), pa.end(), 0);
  }

  void unite(size_t x, size_t y) {
    x = find(x), y = find(y);
    if (x == y) return;
    if (size[x] < size[y]) swap(x, y);
    pa[y] = x;
    size[x] += size[y];
  }
};
```



# 参考链接

[C01【模板】并查集 - 董晓算法](https://www.bilibili.com/video/BV1W34y1L734/?spm_id_from=333.999.0.0&vd_source=a326e65c6d0fa8e7b1904a3c161ec105)
